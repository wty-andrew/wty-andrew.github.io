"use strict";(self.webpackChunkwty_blog=self.webpackChunkwty_blog||[]).push([[312],{6876:(t,e,o)=>{o.r(e),o.d(e,{CH:()=>p,assets:()=>d,chCodeConfig:()=>h,contentTitle:()=>l,default:()=>f,frontMatter:()=>i,metadata:()=>s,toc:()=>a});var n=o(1527),r=o(7793),c=o(3120);const i={id:"nixos",title:"NixOS"},l=void 0,s={id:"linux/nixos",title:"NixOS",description:"A declarative Linux distribution built on top of the Nix package manager.",source:"@site/notes/linux/nixos.md",sourceDirName:"linux",slug:"/linux/nixos",permalink:"/linux/nixos",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"nixos",title:"NixOS"},sidebar:"tutorialSidebar",previous:{title:"Linux",permalink:"/category/linux"},next:{title:"Wayland",permalink:"/linux/wayland"}},d={},a=[{value:"Recipes",id:"recipes",level:2},{value:"Override python package dependencies",id:"override-python-package-dependencies",level:3}],p={annotations:c.ds,Code:c.EK},h={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:void 0,showCopyButton:void 0,themeName:"Best Themes - Catppuccin"};function u(t){const e={a:"a",blockquote:"blockquote",h2:"h2",h3:"h3",p:"p",...(0,r.a)(),...t.components};return p||g("CH",!1),p.Code||g("CH.Code",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="Best Themes - Catppuccin"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #cdd6f4;--ch-t-background: #282c34ff;--ch-t-lighter-inlineBackground: #282c34e6;--ch-t-editor-background: #282c34ff;--ch-t-editor-foreground: #cdd6f4;--ch-t-editor-lineHighlightBackground: #cdd6f411;--ch-t-editor-rangeHighlightBackground: #89dceb3f;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #585b70;--ch-t-focusBorder: #00000000;--ch-t-tab-activeBackground: #282c34ff;--ch-t-tab-activeForeground: #cba6f7;--ch-t-tab-inactiveBackground: #353740ff;--ch-t-tab-inactiveForeground: #6c7086;--ch-t-tab-border: #353740ff;--ch-t-tab-activeBorder: #cba6f7;--ch-t-editorGroup-border: #585b70;--ch-t-editorGroupHeader-tabsBackground: #353740ff;--ch-t-editorLineNumber-foreground: #7f849c;--ch-t-input-background: #313244;--ch-t-input-foreground: #cdd6f4;--ch-t-input-border: #00000000;--ch-t-icon-foreground: #cba6f7;--ch-t-sideBar-background: #131322;--ch-t-sideBar-foreground: #cdd6f4;--ch-t-sideBar-border: #00000000;--ch-t-list-activeSelectionBackground: #45475a;--ch-t-list-activeSelectionForeground: #cdd6f4;--ch-t-list-hoverBackground: #1e1e2e;--ch-t-list-hoverForeground: #cdd6f4; }'}}),"\n",(0,n.jsxs)(e.blockquote,{children:["\n",(0,n.jsx)(e.p,{children:"A declarative Linux distribution built on top of the Nix package manager."}),"\n"]}),"\n",(0,n.jsx)(e.h2,{id:"recipes",children:"Recipes"}),"\n",(0,n.jsx)(e.h3,{id:"override-python-package-dependencies",children:"Override python package dependencies"}),"\n",(0,n.jsxs)(e.p,{children:["Some python packages come with ",(0,n.jsx)(e.a,{href:"https://peps.python.org/pep-0508/#extras",children:"extra"})," dependencies that are not included in the derivation from nixpkgs. Take ",(0,n.jsx)(e.a,{href:"https://github.com/TheR1D/shell_gpt",children:"shell_gpt"})," for example, it requires ",(0,n.jsx)(e.a,{href:"https://github.com/BerriAI/litellm",children:"litellm"})," to use ollama backend, which can be added with the following override:"]}),"\n",(0,n.jsx)(p.Code,{codeConfig:h,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"(",props:{style:{color:"#7F849C"}}},{content:"shell_gpt",props:{style:{color:"#CDD6F4",fontStyle:"italic"}}},{content:".",props:{style:{color:"#89DCEB",fontWeight:"bold"}}},{content:"overrideAttrs ",props:{style:{color:"#CDD6F4",fontStyle:"italic"}}},{content:"(",props:{style:{color:"#7F849C"}}},{content:"oldAttrs",props:{style:{color:"#F5C2E7",fontStyle:"italic"}}},{content:": {",props:{style:{color:"#7F849C"}}}]},{tokens:[{content:"  propagatedBuildInputs ",props:{style:{color:"#89B4FA"}}},{content:"= ",props:{style:{color:"#89DCEB",fontWeight:"bold"}}},{content:"oldAttrs",props:{style:{color:"#CDD6F4",fontStyle:"italic"}}},{content:".",props:{style:{color:"#89DCEB",fontWeight:"bold"}}},{content:"propagatedBuildInputs ",props:{style:{color:"#CDD6F4",fontStyle:"italic"}}},{content:"++ ",props:{style:{color:"#89DCEB",fontWeight:"bold"}}},{content:"[ ",props:{style:{color:"#7F849C"}}},{content:"pkgs",props:{style:{color:"#CDD6F4",fontStyle:"italic"}}},{content:".",props:{style:{color:"#89DCEB",fontWeight:"bold"}}},{content:"python3",props:{style:{color:"#CDD6F4",fontStyle:"italic"}}},{content:".",props:{style:{color:"#89DCEB",fontWeight:"bold"}}},{content:"pkgs",props:{style:{color:"#CDD6F4",fontStyle:"italic"}}},{content:".",props:{style:{color:"#89DCEB",fontWeight:"bold"}}},{content:"litellm ",props:{style:{color:"#CDD6F4",fontStyle:"italic"}}},{content:"]",props:{style:{color:"#7F849C"}}},{content:";",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:"}))",props:{style:{color:"#7F849C"}}}]}],lang:"nix"},annotations:[]}]})]})}function f(t={}){const{wrapper:e}={...(0,r.a)(),...t.components};return e?(0,n.jsx)(e,{...t,children:(0,n.jsx)(u,{...t})}):u(t)}function g(t,e){throw new Error("Expected "+(e?"component":"object")+" `"+t+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);