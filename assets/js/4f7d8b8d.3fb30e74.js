"use strict";(self.webpackChunkwty_blog=self.webpackChunkwty_blog||[]).push([[702],{8958:(o,e,t)=>{t.r(e),t.d(e,{CH:()=>u,assets:()=>y,chCodeConfig:()=>f,contentTitle:()=>g,default:()=>b,frontMatter:()=>h,metadata:()=>m,toc:()=>C});var s=t(1527),n=t(7793),r=t(3120),l=t(959),c=t(1761);const i=c.ZP.div`
  background-color: rgba(var(--ifm-color-primary-rgb), 0.2);
  color: var(--ifm-color-primary);
  opacity: 99%;
  margin-top: calc(-1 * var(--ifm-leading) - var(--ifm-global-radius));
  margin-bottom: var(--ifm-leading);
  padding-top: calc(var(--ifm-pre-padding) / 3);
  padding-bottom: calc(var(--ifm-pre-padding) / 3);
  padding-right: var(--ifm-pre-padding);
  padding-left: var(--ifm-pre-padding);
  border-bottom-right-radius: var(--ifm-global-radius);
  border-bottom-left-radius: var(--ifm-global-radius);
  pointer-events: none;
`,d=c.ZP.div`
  text-align: right;
  cursor: pointer;
  user-select: none;
  pointer-events: auto;
`,a=c.ZP.div`
  padding-top: calc(var(--ifm-pre-padding) / 3);
  padding-bottom: calc(var(--ifm-pre-padding) / 3);
  border-top: 1px solid var(--ifm-color-primary);
  pointer-events: auto;

  & > :last-child {
    margin-bottom: 0;
  }
`,p=o=>{let{children:e,defaultOpen:t=!1,showText:n="More",hideText:r="Hide"}=o;const[c,p]=(0,l.useState)(t),[h,...g]=l.Children.toArray(e);return(0,s.jsxs)(s.Fragment,{children:[h,g&&(0,s.jsxs)(i,{children:[(0,s.jsx)(d,{onClick:()=>p((o=>!o)),children:c?r:n}),c&&(0,s.jsx)(a,{children:g})]})]})},h={id:"roslisp-usage",title:"Roslisp Usage"},g=void 0,m={id:"ros/roslisp-usage",title:"Roslisp Usage",description:"Supplement to roslisp wiki",source:"@site/notes/ros/roslisp-usage.mdx",sourceDirName:"ros",slug:"/ros/roslisp-usage",permalink:"/ros/roslisp-usage",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"roslisp-usage",title:"Roslisp Usage"},sidebar:"tutorialSidebar",previous:{title:"ROS",permalink:"/category/ros"},next:{title:"Environment Setup",permalink:"/category/environment-setup"}},y={},u={annotations:r.ds,Code:r.EK},f={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:void 0,showCopyButton:void 0,themeName:"Best Themes - Catppuccin"},C=[{value:"Manage Node",id:"manage-node",level:2},{value:"<code>start-ros-node</code>",id:"start-ros-node",level:3},{value:"<code>shutdown-ros-node</code>",id:"shutdown-ros-node",level:3},{value:"<code>with-ros-node</code>",id:"with-ros-node",level:3},{value:"<code>node-status</code>",id:"node-status",level:3},{value:"Messages",id:"messages",level:2},{value:"<code>make-message</code>",id:"make-message",level:3},{value:"<code>symbol-codes</code>",id:"symbol-codes",level:3},{value:"<code>symbol-code</code>",id:"symbol-code",level:3},{value:"<code>code-symbols</code>",id:"code-symbols",level:3},{value:"<code>code-symbol</code>",id:"code-symbol",level:3},{value:"Time",id:"time",level:2},{value:"<code>ros-time</code>",id:"ros-time",level:3},{value:"Logging",id:"logging",level:2},{value:"<code>ros-info</code>",id:"ros-info",level:3}];function D(o){const e={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",...(0,n.a)(),...o.components};return u||v("CH",!1),u.Code||v("CH.Code",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="Best Themes - Catppuccin"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #cdd6f4;--ch-t-background: #282c34ff;--ch-t-lighter-inlineBackground: #282c34e6;--ch-t-editor-background: #282c34ff;--ch-t-editor-foreground: #cdd6f4;--ch-t-editor-lineHighlightBackground: #cdd6f411;--ch-t-editor-rangeHighlightBackground: #89dceb3f;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #585b70;--ch-t-focusBorder: #00000000;--ch-t-tab-activeBackground: #282c34ff;--ch-t-tab-activeForeground: #cba6f7;--ch-t-tab-inactiveBackground: #353740ff;--ch-t-tab-inactiveForeground: #6c7086;--ch-t-tab-border: #353740ff;--ch-t-tab-activeBorder: #cba6f7;--ch-t-editorGroup-border: #585b70;--ch-t-editorGroupHeader-tabsBackground: #353740ff;--ch-t-editorLineNumber-foreground: #7f849c;--ch-t-input-background: #313244;--ch-t-input-foreground: #cdd6f4;--ch-t-input-border: #00000000;--ch-t-icon-foreground: #cba6f7;--ch-t-sideBar-background: #131322;--ch-t-sideBar-foreground: #cdd6f4;--ch-t-sideBar-border: #00000000;--ch-t-list-activeSelectionBackground: #45475a;--ch-t-list-activeSelectionForeground: #cdd6f4;--ch-t-list-hoverBackground: #1e1e2e;--ch-t-list-hoverForeground: #cdd6f4; }'}}),"\n","\n","\n",(0,s.jsxs)(e.p,{children:["Supplement to ",(0,s.jsx)(e.a,{href:"http://wiki.ros.org/roslisp/Overview",children:"roslisp wiki"})]}),"\n",(0,s.jsx)(e.h2,{id:"manage-node",children:"Manage Node"}),"\n",(0,s.jsx)(e.h3,{id:"start-ros-node",children:(0,s.jsx)(e.code,{children:"start-ros-node"})}),"\n",(0,s.jsxs)(p,{children:[(0,s.jsx)(u.Code,{codeConfig:f,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"(start-ros-node ",props:{style:{color:"#CDD6F4"}}},{content:'"node_name"',props:{style:{color:"#A6E3A1"}}},{content:")",props:{style:{color:"#CDD6F4"}}}]}],lang:"lisp"},annotations:[]}]}),(0,s.jsxs)(e.p,{children:["After the node starts, ",(0,s.jsx)(e.code,{children:"*node-status*"})," will be set to ",(0,s.jsx)(e.code,{children:":running"})]})]}),"\n",(0,s.jsx)(e.h3,{id:"shutdown-ros-node",children:(0,s.jsx)(e.code,{children:"shutdown-ros-node"})}),"\n",(0,s.jsx)(u.Code,{codeConfig:f,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"(shutdown-ros-node)",props:{style:{color:"#CDD6F4"}}}]}],lang:"lisp"},annotations:[]}]}),"\n",(0,s.jsx)(e.h3,{id:"with-ros-node",children:(0,s.jsx)(e.code,{children:"with-ros-node"})}),"\n",(0,s.jsx)(u.Code,{codeConfig:f,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"(",props:{style:{color:"#CDD6F4"}}},{content:"with-ros-node",props:{style:{color:"#89DCEB",fontWeight:"bold"}}},{content:" (",props:{style:{color:"#CDD6F4"}}},{content:'"node_name"',props:{style:{color:"#A6E3A1"}}},{content:")",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:"  (...))",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:"",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:";; for long running task/service, use:",props:{style:{color:"#6C7086",fontStyle:"italic"}}}]},{tokens:[{content:"(",props:{style:{color:"#CDD6F4"}}},{content:"with-ros-node",props:{style:{color:"#89DCEB",fontWeight:"bold"}}},{content:" (",props:{style:{color:"#CDD6F4"}}},{content:'"node_name" ',props:{style:{color:"#A6E3A1"}}},{content:":spin ",props:{style:{color:"#F38BA8"}}},{content:"t",props:{style:{color:"#B4BEFE",fontStyle:"italic"}}},{content:")",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:"  (...))",props:{style:{color:"#CDD6F4"}}}]}],lang:"lisp"},annotations:[]}]}),"\n",(0,s.jsx)(e.h3,{id:"node-status",children:(0,s.jsx)(e.code,{children:"node-status"})}),"\n",(0,s.jsx)(u.Code,{codeConfig:f,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"(node-status)",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:";; returns either :running or :shutdown",props:{style:{color:"#6C7086",fontStyle:"italic"}}}]}],lang:"lisp"},annotations:[]}]}),"\n",(0,s.jsx)(e.h2,{id:"messages",children:"Messages"}),"\n",(0,s.jsx)(e.h3,{id:"make-message",children:(0,s.jsx)(e.code,{children:"make-message"})}),"\n",(0,s.jsx)(u.Code,{codeConfig:f,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:";; use symbol as msg-type",props:{style:{color:"#6C7086",fontStyle:"italic"}}}]},{tokens:[{content:"(make-message 'std_msgs-msg:String",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:"              :data ",props:{style:{color:"#F38BA8"}}},{content:'"Hello World"',props:{style:{color:"#A6E3A1"}}},{content:")",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:"",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:";; use string as msg-type",props:{style:{color:"#6C7086",fontStyle:"italic"}}}]},{tokens:[{content:"(make-message ",props:{style:{color:"#CDD6F4"}}},{content:'"std_msgs/String"',props:{style:{color:"#A6E3A1"}}}]},{tokens:[{content:"              :data ",props:{style:{color:"#F38BA8"}}},{content:'"Hello World"',props:{style:{color:"#A6E3A1"}}},{content:")",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:"",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:";; fill in nested fields",props:{style:{color:"#6C7086",fontStyle:"italic"}}}]},{tokens:[{content:"(make-message ",props:{style:{color:"#CDD6F4"}}},{content:'"geometry_msgs/PoseStamped"',props:{style:{color:"#A6E3A1"}}}]},{tokens:[{content:"              :header",props:{style:{color:"#F38BA8"}}},{content:" (make-message ",props:{style:{color:"#CDD6F4"}}},{content:'"std_msgs/Header"',props:{style:{color:"#A6E3A1"}}}]},{tokens:[{content:"                                    :frame_id ",props:{style:{color:"#F38BA8"}}},{content:'"map"',props:{style:{color:"#A6E3A1"}}},{content:")",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:"              (",props:{style:{color:"#CDD6F4"}}},{content:":w :orientation :pose",props:{style:{color:"#F38BA8"}}},{content:") ",props:{style:{color:"#CDD6F4"}}},{content:"1.0",props:{style:{color:"#FAB387"}}},{content:")",props:{style:{color:"#CDD6F4"}}}]}],lang:"lisp"},annotations:[]}]}),"\n",(0,s.jsx)(e.h3,{id:"symbol-codes",children:(0,s.jsx)(e.code,{children:"symbol-codes"})}),"\n",(0,s.jsx)(u.Code,{codeConfig:f,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:";; use symbol as msg-type",props:{style:{color:"#6C7086",fontStyle:"italic"}}}]},{tokens:[{content:"(symbol-codes 'sensor_msgs-msg:Range)",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:"",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:";; use instance as msg-type",props:{style:{color:"#6C7086",fontStyle:"italic"}}}]},{tokens:[{content:"(symbol-codes (make-message ",props:{style:{color:"#CDD6F4"}}},{content:'"sensor_msgs/Range"',props:{style:{color:"#A6E3A1"}}},{content:"))",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:"",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:";; returns: ((:ULTRASOUND . 0) (:INFRARED . 1))",props:{style:{color:"#6C7086",fontStyle:"italic"}}}]}],lang:"lisp"},annotations:[]}]}),"\n",(0,s.jsx)(e.h3,{id:"symbol-code",children:(0,s.jsx)(e.code,{children:"symbol-code"})}),"\n",(0,s.jsx)(u.Code,{codeConfig:f,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"(symbol-code 'sensor_msgs-msg:Range ",props:{style:{color:"#CDD6F4"}}},{content:":ultrasound",props:{style:{color:"#F38BA8"}}},{content:")",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:";; returns: 0",props:{style:{color:"#6C7086",fontStyle:"italic"}}}]}],lang:"lisp"},annotations:[]}]}),"\n",(0,s.jsx)(e.h3,{id:"code-symbols",children:(0,s.jsx)(e.code,{children:"code-symbols"})}),"\n",(0,s.jsx)(u.Code,{codeConfig:f,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"(code-symbols 'visualization_msgs-msg:Marker ",props:{style:{color:"#CDD6F4"}}},{content:"0",props:{style:{color:"#FAB387"}}},{content:")",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:";; returns: ((:ARROW . 0) (:ADD . 0) (:MODIFY . 0))",props:{style:{color:"#6C7086",fontStyle:"italic"}}}]}],lang:"lisp"},annotations:[]}]}),"\n",(0,s.jsx)(e.h3,{id:"code-symbol",children:(0,s.jsx)(e.code,{children:"code-symbol"})}),"\n",(0,s.jsx)(u.Code,{codeConfig:f,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"(code-symbol 'visualization_msgs-msg:Marker ",props:{style:{color:"#CDD6F4"}}},{content:"0",props:{style:{color:"#FAB387"}}},{content:")",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:";; returns: :ARROW (first found)",props:{style:{color:"#6C7086",fontStyle:"italic"}}}]}],lang:"lisp"},annotations:[]}]}),"\n",(0,s.jsx)(e.h2,{id:"time",children:"Time"}),"\n",(0,s.jsx)(e.h3,{id:"ros-time",children:(0,s.jsx)(e.code,{children:"ros-time"})}),"\n",(0,s.jsxs)(p,{children:[(0,s.jsx)(u.Code,{codeConfig:f,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"(ros-time)",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:";; returns the number of seconds since January 1st, 1970",props:{style:{color:"#6C7086",fontStyle:"italic"}}}]}],lang:"lisp"},annotations:[]}]}),(0,s.jsxs)(e.p,{children:["It uses ",(0,s.jsx)(e.code,{children:"sb-ext:get-time-of-day"})," under the hood"]})]}),"\n",(0,s.jsx)(e.h2,{id:"logging",children:"Logging"}),"\n",(0,s.jsx)(e.h3,{id:"ros-info",children:(0,s.jsx)(e.code,{children:"ros-info"})}),"\n",(0,s.jsxs)(p,{children:[(0,s.jsx)(u.Code,{codeConfig:f,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"(ros-info (foo bar) ",props:{style:{color:"#CDD6F4"}}},{content:'"Hello, ~A" "World"',props:{style:{color:"#A6E3A1"}}},{content:")",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:";; outputs: [(FOO BAR) INFO] 1625730154.129: Hello, World",props:{style:{color:"#6C7086",fontStyle:"italic"}}}]},{tokens:[{content:"",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:"(ros-info (monitor) (",props:{style:{color:"#CDD6F4"}}},{content:"<",props:{style:{color:"#89DCEB",fontWeight:"bold"}}},{content:" battery-level ",props:{style:{color:"#CDD6F4"}}},{content:"20",props:{style:{color:"#FAB387"}}},{content:") ",props:{style:{color:"#CDD6F4"}}},{content:'"Battery Low"',props:{style:{color:"#A6E3A1"}}},{content:")",props:{style:{color:"#CDD6F4"}}}]},{tokens:[{content:";; The second argument can be a condition, works like `ROS_INFO_COND` in roscpp",props:{style:{color:"#6C7086",fontStyle:"italic"}}}]}],lang:"lisp"},annotations:[]}]}),(0,s.jsxs)(e.p,{children:["The same for ",(0,s.jsx)(e.code,{children:"ros-debug"}),", ",(0,s.jsx)(e.code,{children:"ros-warn"}),", ",(0,s.jsx)(e.code,{children:"ros-error"}),", and ",(0,s.jsx)(e.code,{children:"ros-fatal"})]})]})]})}function b(o={}){const{wrapper:e}={...(0,n.a)(),...o.components};return e?(0,s.jsx)(e,{...o,children:(0,s.jsx)(D,{...o})}):D(o)}function v(o,e){throw new Error("Expected "+(e?"component":"object")+" `"+o+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);